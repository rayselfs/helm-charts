suite: test configmap
templates:
  - configmap.yaml
tests:
  - it: should create a ConfigMap
    asserts:
      - isKind:
          of: ConfigMap
      - equal:
          path: metadata.name
          value: RELEASE-NAME-aws-ec2-runtime-checker-config

  - it: should contain targets configuration
    set:
      targets:
        - instanceType: "t2.micro"
          maxRuntimeHours: 24
        - instanceType: "t3.large"
          maxRuntimeHours: 48
    asserts:
      - isNotEmpty:
          path: data["config.json"]
